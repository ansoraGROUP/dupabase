# Dupabase — BYO PostgreSQL
# Dupabase is middleware — it connects to YOUR PostgreSQL database.
# It does not include or manage a database for you.

# Server
PORT=3000
HOST=0.0.0.0
SITE_URL=http://localhost:3000

# YOUR PostgreSQL (superuser with CREATEROLE + CREATEDB)
# This is the database Dupabase connects to — you provide it.
# Hetzner example: postgresql://dupabase:password@localhost:5432/dupabase
# Docker example:  postgresql://postgres:postgres@localhost:5432/postgres
# Note: URL-encode special chars in password (@ = %40, # = %23)
DATABASE_URL=postgresql://user:password@localhost:5432/dbname

# Platform JWT (for dashboard auth, min 32 characters)
# Generate with: openssl rand -base64 48
PLATFORM_JWT_SECRET=your-platform-secret-key-min-32-characters

# Admin User (optional but recommended)
# Auto-created on every startup (idempotent)
# ADMIN_EMAIL=admin@example.com
# ADMIN_PASSWORD=your-admin-password

# Pool Manager
MAX_CONNECTIONS_PER_DB=5
GLOBAL_MAX_CONNECTIONS=100
POOL_IDLE_TIMEOUT=300

# Default Auth Settings for New Projects
DEFAULT_ENABLE_SIGNUP=true
DEFAULT_AUTOCONFIRM=true
DEFAULT_PASSWORD_MIN_LENGTH=6

# CORS (comma-separated origins)
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3333

# Database Import
# IMPORT_MAX_SIZE_MB=500
# IMPORT_TEMP_DIR=/tmp/imports

# Backup Encryption (optional, falls back to PLATFORM_JWT_SECRET)
# Used to encrypt S3 credentials at rest
# BACKUP_ENCRYPTION_KEY=your-backup-encryption-key-min-32-chars
